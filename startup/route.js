const express = require("express");
const cors = require("cors");
const error = require("../middleware/error");
const auth = require("../routes/auth/userAuth");
const teachers = require("../routes/admin/teachers_managment");
const adminAuth = require("../routes/admin/auth");
const teacherAuth = require("../routes/teacher/auth");
const courses = require("../routes/teacher/courses");
const teacherProfile = require("../routes/teacher/profile");
const students = require("../routes/teacher/students_managment");
const studentAuth = require("../routes/students/auth");
const studentProfile = require("../routes/students/profile");
const scheduleExam = require("../routes/exams/schedule_exams");
const postMark = require("../routes/teacher/post_mark");
const event = require("../routes/admin/events");
const allClasses = require("../routes/admin/classes_managment");
const paymentDetails = require("../routes/admin/paymentDetails");
const timetable = require("../routes/teacher/timetable");
const library = require("../routes/admin/library");
const assignment = require("../routes/teacher/assignment");
const chat = require("../routes/students/chat");
const discussion = require("../routes/students/discussion");
const term = require("../routes/admin/term");
const classes = require("../routes/admin/school_classes");
const levels = require("../routes/admin/education_level");
const newsfeed = require("../routes/newsfeed/newsfeed");
const comment = require("../routes/newsfeed/comment");
const like = require("../routes/newsfeed/like");

module.exports = function (app) {
  app.use(express.json());
  app.use(cors());
  app.use("/api/auth", auth);
  app.use("/api/teachers", teachers);
  app.use("/api/admin/auth", adminAuth);
  app.use("/api/classes", classes);
  app.use("/api/terms", term);
  app.use("/api/all-classes", allClasses);
  app.use("/api/levels", levels);
  app.use("/api/teacher/auth", teacherAuth);
  app.use("/api/courses", courses);
  app.use("/api/student/auth", studentAuth);
  app.use("/api/teacher/profile", teacherProfile);
  app.use("/api/timetable", timetable);
  app.use("/api/events", event);
  app.use("/api/books", library);
  app.use("/api/assignments", assignment);
  app.use("/api/exams", scheduleExam);
  app.use("/api/post-mark", postMark);
  app.use("/api/payment", paymentDetails);
  app.use("/api/students", students);
  app.use("/api/student/profile", studentProfile);
  app.use("/api/student/message", chat);
  app.use("/api/newsfeed", newsfeed);
  app.use("/api/like", like);
  app.use("/api/comment", comment);
  app.use("/api/discussion", discussion);

  app.use(error);
};
